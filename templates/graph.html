<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="icon" href="/static/favicon.ico" type="image/x-icon">
    <title>ETH-UDK Navigator - Graph</title>
    <meta name="description" content="Explore and search the ETH-UDK Classification System.">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="/static/graph.css" rel="stylesheet">
    <link href="/static/nav.css" rel="stylesheet">
    <!-- <script type="text/javascript" src="https://unpkg.com/vis-network/standalone/umd/vis-network.min.js"></script> -->
    <script type="text/javascript" src="https://unpkg.com/vis-network@9.1.9/standalone/umd/vis-network.min.js"></script>

</head>
<body>
  <!-- ✅ Navigation Menu -->
  {% include '_navbar.html' %}

    <!-- Main container takes full height -->
    <div class="container-fluid d-flex flex-column h-100 p-0">
      <!-- Top bar with dropdown, search, legend, fullscreen -->
      <div class="p-3 bg-light d-flex justify-content-between align-items-center flex-wrap" id="graph-top-bar">
          <!-- Root Selector -->
          <select id="graph-root-selector" class="form-select w-auto me-2 mb-2 mb-lg-0"></select>

          <!-- Search -->
          <div class="position-relative flex-grow-1 me-2 mb-2 mb-lg-0" style="min-width: 200px;">
              <input type="text" id="graph-search-input" class="form-control" placeholder="Search for a term..." oninput="searchGraphObjects(this.value)">
              <ul id="graph-search-results" class="list-group position-absolute w-100"></ul>
          </div>

          <!-- Legend (inline) -->
          <div id="graph-legend" class="d-flex align-items-center me-2 mb-2 mb-lg-0">
              <span class="legend-item">
                  <span class="legend-color" style="background-color: #ffa500; border-color: #ff8c00;"></span> 
                  <span class="legend-label">Selected</span>
              </span>
              <span class="legend-item">
                  <span class="legend-color" style="background-color: #d4edda; border-color: #28a745;"></span> 
                  <span class="legend-label">Broader</span>
              </span>
              <span class="legend-item">
                  <span class="legend-color" style="background-color: #cce5ff; border-color: #0d6efd;"></span> 
                  <span class="legend-label">Narrower</span>
              </span>
              <span class="legend-item">
                  <span class="legend-color" style="background-color: #f8d7da; border-color: #dc3545;"></span> 
                  <span class="legend-label">Related</span>
              </span>
          </div>

          <!-- Fullscreen -->
          <button id="fullscreen-btn" class="btn btn-outline-secondary btn-sm" title="Fullscreen Mode">⛶</button>
      </div>
        <!-- ✅ Loading spinner (with text) -->
        <div id="graph-loading" class="graph-spinner" style="display:none;">
          <div class="spinner"></div>
          <p>Loading Graph...</p>
        </div>

        <!-- Graph area takes remaining space -->
        <div id="graph-network" class="flex-grow-1 w-100"></div>
    </div>

    <!-- ✅ Add this before </body> for Bootstrap functionality -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="/static/graph.js"></script>
</body>
</html>



